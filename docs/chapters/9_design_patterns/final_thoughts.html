

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4. Final thoughts about design patterns &mdash; Mastering Python</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/styles.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Mastering Python
          

          
            
            <img src="../../_static/logo-white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                28/02/2020
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../1_docstrings_and_annotations/index.html">Docstrings and annotations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_pythonic_code/index.html">Pythonic code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_general_traits/index.html">General traits of good code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4_solid_principles/index.html">SOLID</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5_decorators/index.html">Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6_descriptors/index.html">Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../7_generators/index.html">Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../8_unit_testing/index.html">Unit testing and refactoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Design patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10_clean_architecture/index.html">Clean architecture</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Mastering Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>4. Final thoughts about design patterns</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/chapters/9_design_patterns/final_thoughts.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="final-thoughts-about-design-patterns">
<h1>4. Final thoughts about design patterns<a class="headerlink" href="#final-thoughts-about-design-patterns" title="Permalink to this headline">¶</a></h1>
<p>We have seen the world of design patterns in Python, and in doing so, we have found
solutions to common problems, as well as more techniques that will help us achieve a clean
design.</p>
<p>All of this sounds good, but it begs the question, how good are design patterns? Some
people argue that they do more harm than good, that they were created for languages
whose limited type system (and lack of first-class functions) makes it impossible to
accomplish things we would normally do in Python. Others claim that design patterns
force a design solution, creating some bias that limits a design that would have otherwise
emerged, and which would have been better. Let’s look at each of these points in turn.</p>
<div class="section" id="the-influence-of-patterns-over-the-design">
<h2>4.1. The influence of patterns over the design<a class="headerlink" href="#the-influence-of-patterns-over-the-design" title="Permalink to this headline">¶</a></h2>
<p>A design pattern, as with any other topic in software engineering, cannot be good or bad
in and of itself, but rather in how it’s implemented. In some cases, there is actually no need
for a design pattern, and a simpler solution would do. Trying to force a pattern where it
doesn’t fit is a case of over-engineering, and that’s clearly bad, but it doesn’t mean that there
is a problem with the design patterns, and most likely in these scenarios, the problem is not
even related to patterns at all. Some people try to over-engineer everything because they
don’t understand what flexible and adaptable software really means. As we mentioned
before in this book, making good software is not about anticipating future requirements
(there is no point in doing futurology), but just solving the problem that we have at
hand right now, in a way that doesn’t prevent us from making changes to it in the future. It
doesn’t have to handle those changes now; it just needs to be flexible enough so that it can
be modified in the future. And when that future comes, we will still have to remember the
rule of three or more instances of the same problem before coming up with a generic
solution or a proper abstraction.</p>
<p>This is typically the point where the design patterns should emerge, once we have
identified the problem correctly and are able to recognize the pattern and abstract
accordingly.</p>
<p>Let’s come back to the topic of the suitability of the patterns to the language. As we said in
the introduction of the chapter, design patterns are high-level ideas. They typically refer to
the relation of objects and their interactions. It’s hard to think that such things might
disappear from one language to another. It’s true that some patterns are actually
implemented manually in Python, as is the case of the iterator pattern (which, as it was
heavily discussed earlier in the book, is built in Python), or a strategy (because, instead, we
would just pass functions as any other regular object; we don’t need to encapsulate the
strategy method into an object the function itself would be an object).</p>
<p>But other patterns are actually needed, and they indeed solve problems, as in the case of the
decorator and composite patterns. In other cases, there are design patterns that Python
itself implements, and we just don’t always see them, as in the case of the facade pattern
that we discussed in the section on <code class="docutils literal notranslate"><span class="pre">os</span></code>.</p>
<p>As to our design patterns leading our solution in a wrong direction, we have to be careful
here. Once again, it’s better if we start designing our solution by thinking in terms of the
domain problem and creating the right abstractions, and then later see whether there is a
design pattern that emerges from that design. Let’s say that it does. Is that a bad thing? The
fact that there is already a solution to the problem we’re trying to solve cannot be a bad
thing. It would be bad to reinvent the wheel, as happens many times in our field. Moreover,
the fact that we are applying a pattern, something already proven and validated, should
give us greater confidence in the quality of what we are building.</p>
</div>
<div class="section" id="names-in-our-models">
<h2>4.2. Names in our models<a class="headerlink" href="#names-in-our-models" title="Permalink to this headline">¶</a></h2>
<p>Should we mention that we are using a design pattern in our code?</p>
<p>If the design is good and the code is clean, it should speak for itself. It is not recommended
that you name things after the design patterns you are using for a couple of reasons:</p>
<ul class="simple">
<li><p>Users of our code and other developers don’t need to know the design pattern behind the code, as long as it works as intended.</p></li>
<li><p>Stating the design pattern ruins the intention revealing principle. Adding the name of the design pattern to a class makes it lose part of its original meaning. If a class represents a query, it should be named <code class="docutils literal notranslate"><span class="pre">Query</span></code> or <code class="docutils literal notranslate"><span class="pre">EnhancedQuery</span></code>, something that reveals the intention of what that object is supposed to do. <code class="docutils literal notranslate"><span class="pre">EnhancedQueryDecorator</span></code> doesn’t mean anything meaningful, and the <code class="docutils literal notranslate"><span class="pre">Decorator</span></code> suffix creates more confusion than clarity.</p></li>
</ul>
<p>Mentioning the design patterns in docstrings might be acceptable because they work as
documentation, and expressing the design ideas (again, communicating) in our design is a
good thing. However, this should not be needed. Most of the time, though, we do not need
to know that a design pattern is there.</p>
<p>The best designs are those in which design patterns are completely transparent to the users.
An example of this is how the facade pattern appears in the standard library, making it
completely transparent to users as to how to access the os module. An even more elegant
example is how the iterator design pattern is so completely abstracted by the language that
we don’t even have to think about it.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Sergio Bugallo

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>